{"ast":null,"code":"import _regeneratorRuntime from \"D:/Projects/my-Portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/Projects/my-Portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/Projects/my-Portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"D:/Projects/my-Portfolio/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"D:/Projects/my-Portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Projects/my-Portfolio/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { clear as _clear, drawParticle as _drawParticle, drawParticlePlugin as _drawParticlePlugin, drawPlugin as _drawPlugin, paintBase } from \"../Utils/CanvasUtils\";\nimport { deepExtend, isSsr } from \"../Utils/Utils\";\nimport { getStyleFromHsl, getStyleFromRgb, rangeColorToHsl, rangeColorToRgb } from \"../Utils/ColorUtils\";\nimport { generatedAttribute } from \"./Utils/Constants\";\n\nfunction setTransformValue(factor, newFactor, key) {\n  var _a;\n\n  var newValue = newFactor[key];\n\n  if (newValue !== undefined) {\n    factor[key] = ((_a = factor[key]) !== null && _a !== void 0 ? _a : 1) * newValue;\n  }\n}\n\nexport var Canvas = /*#__PURE__*/function () {\n  function Canvas(container) {\n    var _this = this;\n\n    _classCallCheck(this, Canvas);\n\n    this.container = container;\n    this.size = {\n      height: 0,\n      width: 0\n    };\n    this._context = null;\n    this._generated = false;\n    this._preDrawUpdaters = [];\n    this._postDrawUpdaters = [];\n    this._resizePlugins = [];\n    this._colorPlugins = [];\n    this._mutationObserver = !isSsr() && typeof MutationObserver !== \"undefined\" ? new MutationObserver(function (records) {\n      var _iterator = _createForOfIteratorHelper(records),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var record = _step.value;\n\n          if (record.type === \"attributes\" && record.attributeName === \"style\") {\n            _this._repairStyle();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }) : undefined;\n  }\n\n  _createClass(Canvas, [{\n    key: \"_fullScreen\",\n    get: function get() {\n      return this.container.actualOptions.fullScreen.enable;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this2 = this;\n\n      var options = this.container.actualOptions,\n          trail = options.particles.move.trail;\n\n      if (options.backgroundMask.enable) {\n        this.paint();\n      } else if (trail.enable && trail.length > 0 && this._trailFillColor) {\n        this._paintBase(getStyleFromRgb(this._trailFillColor, 1 / trail.length));\n      } else {\n        this.draw(function (ctx) {\n          _clear(ctx, _this2.size);\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this3 = this;\n\n      var _a, _b;\n\n      (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n\n      if (this._generated) {\n        (_b = this.element) === null || _b === void 0 ? void 0 : _b.remove();\n      } else {\n        this._resetOriginalStyle();\n      }\n\n      this.draw(function (ctx) {\n        _clear(ctx, _this3.size);\n      });\n      this._preDrawUpdaters = [];\n      this._postDrawUpdaters = [];\n      this._resizePlugins = [];\n      this._colorPlugins = [];\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(cb) {\n      if (!this._context) {\n        return;\n      }\n\n      return cb(this._context);\n    }\n  }, {\n    key: \"drawParticle\",\n    value: function drawParticle(particle, delta) {\n      var _this4 = this;\n\n      var _a;\n\n      if (particle.spawning || particle.destroyed) {\n        return;\n      }\n\n      var radius = particle.getRadius();\n\n      if (radius <= 0) {\n        return;\n      }\n\n      var pfColor = particle.getFillColor(),\n          psColor = (_a = particle.getStrokeColor()) !== null && _a !== void 0 ? _a : pfColor;\n\n      var _this$_getPluginParti = this._getPluginParticleColors(particle),\n          _this$_getPluginParti2 = _slicedToArray(_this$_getPluginParti, 2),\n          fColor = _this$_getPluginParti2[0],\n          sColor = _this$_getPluginParti2[1];\n\n      if (!fColor) {\n        fColor = pfColor;\n      }\n\n      if (!sColor) {\n        sColor = psColor;\n      }\n\n      if (!fColor && !sColor) {\n        return;\n      }\n\n      this.draw(function (ctx) {\n        var _a, _b, _c, _d, _e;\n\n        var options = _this4.container.actualOptions,\n            zIndexOptions = particle.options.zIndex,\n            zOpacityFactor = Math.pow(1 - particle.zIndexFactor, zIndexOptions.opacityRate),\n            opacity = (_c = (_a = particle.bubble.opacity) !== null && _a !== void 0 ? _a : (_b = particle.opacity) === null || _b === void 0 ? void 0 : _b.value) !== null && _c !== void 0 ? _c : 1,\n            strokeOpacity = (_e = (_d = particle.stroke) === null || _d === void 0 ? void 0 : _d.opacity) !== null && _e !== void 0 ? _e : opacity,\n            zOpacity = opacity * zOpacityFactor,\n            zStrokeOpacity = strokeOpacity * zOpacityFactor,\n            transform = {},\n            colorStyles = {\n          fill: fColor ? getStyleFromHsl(fColor, zOpacity) : undefined\n        };\n        colorStyles.stroke = sColor ? getStyleFromHsl(sColor, zStrokeOpacity) : colorStyles.fill;\n\n        _this4._applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform);\n\n        _drawParticle({\n          container: _this4.container,\n          context: ctx,\n          particle: particle,\n          delta: delta,\n          colorStyles: colorStyles,\n          backgroundMask: options.backgroundMask.enable,\n          composite: options.backgroundMask.composite,\n          radius: radius * Math.pow(1 - particle.zIndexFactor, zIndexOptions.sizeRate),\n          opacity: zOpacity,\n          shadow: particle.options.shadow,\n          transform: transform\n        });\n\n        _this4._applyPostDrawUpdaters(particle);\n      });\n    }\n  }, {\n    key: \"drawParticlePlugin\",\n    value: function drawParticlePlugin(plugin, particle, delta) {\n      this.draw(function (ctx) {\n        _drawParticlePlugin(ctx, plugin, particle, delta);\n      });\n    }\n  }, {\n    key: \"drawPlugin\",\n    value: function drawPlugin(plugin, delta) {\n      this.draw(function (ctx) {\n        _drawPlugin(ctx, plugin, delta);\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _a;\n\n      this.resize();\n\n      this._initStyle();\n\n      this._initCover();\n\n      this._initTrail();\n\n      this.initBackground();\n\n      if (this.element) {\n        (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.observe(this.element, {\n          attributes: true\n        });\n      }\n\n      this.initUpdaters();\n      this.initPlugins();\n      this.paint();\n    }\n  }, {\n    key: \"initBackground\",\n    value: function initBackground() {\n      var options = this.container.actualOptions,\n          background = options.background,\n          element = this.element,\n          elementStyle = element === null || element === void 0 ? void 0 : element.style;\n\n      if (!elementStyle) {\n        return;\n      }\n\n      if (background.color) {\n        var color = rangeColorToRgb(background.color);\n        elementStyle.backgroundColor = color ? getStyleFromRgb(color, background.opacity) : \"\";\n      } else {\n        elementStyle.backgroundColor = \"\";\n      }\n\n      elementStyle.backgroundImage = background.image || \"\";\n      elementStyle.backgroundPosition = background.position || \"\";\n      elementStyle.backgroundRepeat = background.repeat || \"\";\n      elementStyle.backgroundSize = background.size || \"\";\n    }\n  }, {\n    key: \"initPlugins\",\n    value: function initPlugins() {\n      this._resizePlugins = [];\n\n      var _iterator2 = _createForOfIteratorHelper(this.container.plugins),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _step2$value = _slicedToArray(_step2.value, 2),\n              plugin = _step2$value[1];\n\n          if (plugin.resize) {\n            this._resizePlugins.push(plugin);\n          }\n\n          if (plugin.particleFillColor || plugin.particleStrokeColor) {\n            this._colorPlugins.push(plugin);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"initUpdaters\",\n    value: function initUpdaters() {\n      this._preDrawUpdaters = [];\n      this._postDrawUpdaters = [];\n\n      var _iterator3 = _createForOfIteratorHelper(this.container.particles.updaters),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var updater = _step3.value;\n\n          if (updater.afterDraw) {\n            this._postDrawUpdaters.push(updater);\n          }\n\n          if (updater.getColorStyles || updater.getTransformValues || updater.beforeDraw) {\n            this._preDrawUpdaters.push(updater);\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"loadCanvas\",\n    value: function loadCanvas(canvas) {\n      var _a, _b;\n\n      if (this._generated) {\n        (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\n      }\n\n      this._generated = canvas.dataset && generatedAttribute in canvas.dataset ? canvas.dataset[generatedAttribute] === \"true\" : this._generated;\n      this.element = canvas;\n      this.element.ariaHidden = \"true\";\n      this._originalStyle = deepExtend({}, this.element.style);\n      this.size.height = canvas.offsetHeight;\n      this.size.width = canvas.offsetWidth;\n      this._context = this.element.getContext(\"2d\");\n      (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.observe(this.element, {\n        attributes: true\n      });\n      this.container.retina.init();\n      this.initBackground();\n    }\n  }, {\n    key: \"paint\",\n    value: function paint() {\n      var _this5 = this;\n\n      var options = this.container.actualOptions;\n      this.draw(function (ctx) {\n        if (options.backgroundMask.enable && options.backgroundMask.cover) {\n          _clear(ctx, _this5.size);\n\n          _this5._paintBase(_this5._coverColorStyle);\n        } else {\n          _this5._paintBase();\n        }\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      if (!this.element) {\n        return;\n      }\n\n      var container = this.container,\n          pxRatio = container.retina.pixelRatio,\n          size = container.canvas.size,\n          newSize = {\n        width: this.element.offsetWidth * pxRatio,\n        height: this.element.offsetHeight * pxRatio\n      };\n\n      if (newSize.height === size.height && newSize.width === size.width && newSize.height === this.element.height && newSize.width === this.element.width) {\n        return;\n      }\n\n      var oldSize = Object.assign({}, size);\n      this.element.width = size.width = this.element.offsetWidth * pxRatio;\n      this.element.height = size.height = this.element.offsetHeight * pxRatio;\n\n      if (this.container.started) {\n        this.resizeFactor = {\n          width: size.width / oldSize.width,\n          height: size.height / oldSize.height\n        };\n      }\n    }\n  }, {\n    key: \"windowResize\",\n    value: function () {\n      var _windowResize = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var container, needsRefresh;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.element) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                this.resize();\n                container = this.container, needsRefresh = container.updateActualOptions();\n                container.particles.setDensity();\n\n                this._applyResizePlugins();\n\n                if (!needsRefresh) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 9;\n                return container.refresh();\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function windowResize() {\n        return _windowResize.apply(this, arguments);\n      }\n\n      return windowResize;\n    }()\n  }, {\n    key: \"_applyPostDrawUpdaters\",\n    value: function _applyPostDrawUpdaters(particle) {\n      var _a;\n\n      var _iterator4 = _createForOfIteratorHelper(this._postDrawUpdaters),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var updater = _step4.value;\n          (_a = updater.afterDraw) === null || _a === void 0 ? void 0 : _a.call(updater, particle);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }, {\n    key: \"_applyPreDrawUpdaters\",\n    value: function _applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform) {\n      var _a;\n\n      var _iterator5 = _createForOfIteratorHelper(this._preDrawUpdaters),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var updater = _step5.value;\n\n          if (updater.getColorStyles) {\n            var _updater$getColorStyl = updater.getColorStyles(particle, ctx, radius, zOpacity),\n                fill = _updater$getColorStyl.fill,\n                stroke = _updater$getColorStyl.stroke;\n\n            if (fill) {\n              colorStyles.fill = fill;\n            }\n\n            if (stroke) {\n              colorStyles.stroke = stroke;\n            }\n          }\n\n          if (updater.getTransformValues) {\n            var updaterTransform = updater.getTransformValues(particle);\n\n            for (var key in updaterTransform) {\n              setTransformValue(transform, updaterTransform, key);\n            }\n          }\n\n          (_a = updater.beforeDraw) === null || _a === void 0 ? void 0 : _a.call(updater, particle);\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n    }\n  }, {\n    key: \"_applyResizePlugins\",\n    value: function _applyResizePlugins() {\n      var _iterator6 = _createForOfIteratorHelper(this._resizePlugins),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var plugin = _step6.value;\n\n          if (plugin.resize) {\n            plugin.resize();\n          }\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n    }\n  }, {\n    key: \"_getPluginParticleColors\",\n    value: function _getPluginParticleColors(particle) {\n      var fColor, sColor;\n\n      var _iterator7 = _createForOfIteratorHelper(this._colorPlugins),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var plugin = _step7.value;\n\n          if (!fColor && plugin.particleFillColor) {\n            fColor = rangeColorToHsl(plugin.particleFillColor(particle));\n          }\n\n          if (!sColor && plugin.particleStrokeColor) {\n            sColor = rangeColorToHsl(plugin.particleStrokeColor(particle));\n          }\n\n          if (fColor && sColor) {\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      return [fColor, sColor];\n    }\n  }, {\n    key: \"_initCover\",\n    value: function _initCover() {\n      var options = this.container.actualOptions,\n          cover = options.backgroundMask.cover,\n          color = cover.color,\n          coverRgb = rangeColorToRgb(color);\n\n      if (coverRgb) {\n        var coverColor = {\n          r: coverRgb.r,\n          g: coverRgb.g,\n          b: coverRgb.b,\n          a: cover.opacity\n        };\n        this._coverColorStyle = getStyleFromRgb(coverColor, coverColor.a);\n      }\n    }\n  }, {\n    key: \"_initStyle\",\n    value: function _initStyle() {\n      var element = this.element,\n          options = this.container.actualOptions;\n\n      if (!element) {\n        return;\n      }\n\n      if (this._fullScreen) {\n        this._originalStyle = deepExtend({}, element.style);\n\n        this._setFullScreenStyle();\n      } else {\n        this._resetOriginalStyle();\n      }\n\n      for (var key in options.style) {\n        if (!key || !options.style) {\n          continue;\n        }\n\n        var value = options.style[key];\n\n        if (!value) {\n          continue;\n        }\n\n        element.style.setProperty(key, value, \"important\");\n      }\n    }\n  }, {\n    key: \"_initTrail\",\n    value: function _initTrail() {\n      var options = this.container.actualOptions,\n          trail = options.particles.move.trail,\n          fillColor = rangeColorToRgb(trail.fillColor);\n\n      if (fillColor) {\n        var _trail = options.particles.move.trail;\n        this._trailFillColor = Object.assign(Object.assign({}, fillColor), {\n          a: 1 / _trail.length\n        });\n      }\n    }\n  }, {\n    key: \"_paintBase\",\n    value: function _paintBase(baseColor) {\n      var _this6 = this;\n\n      this.draw(function (ctx) {\n        paintBase(ctx, _this6.size, baseColor);\n      });\n    }\n  }, {\n    key: \"_repairStyle\",\n    value: function _repairStyle() {\n      var _a, _b;\n\n      var element = this.element;\n\n      if (!element) {\n        return;\n      }\n\n      (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n\n      this._initStyle();\n\n      this.initBackground();\n      (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.observe(element, {\n        attributes: true\n      });\n    }\n  }, {\n    key: \"_resetOriginalStyle\",\n    value: function _resetOriginalStyle() {\n      var element = this.element,\n          originalStyle = this._originalStyle;\n\n      if (!(element && originalStyle)) {\n        return;\n      }\n\n      element.style.position = originalStyle.position;\n      element.style.zIndex = originalStyle.zIndex;\n      element.style.top = originalStyle.top;\n      element.style.left = originalStyle.left;\n      element.style.width = originalStyle.width;\n      element.style.height = originalStyle.height;\n    }\n  }, {\n    key: \"_setFullScreenStyle\",\n    value: function _setFullScreenStyle() {\n      var element = this.element;\n\n      if (!element) {\n        return;\n      }\n\n      var priority = \"important\";\n      element.style.setProperty(\"position\", \"fixed\", priority);\n      element.style.setProperty(\"z-index\", this.container.actualOptions.fullScreen.zIndex.toString(10), priority);\n      element.style.setProperty(\"top\", \"0\", priority);\n      element.style.setProperty(\"left\", \"0\", priority);\n      element.style.setProperty(\"width\", \"100%\", priority);\n      element.style.setProperty(\"height\", \"100%\", priority);\n    }\n  }]);\n\n  return Canvas;\n}();","map":{"version":3,"names":["clear","drawParticle","drawParticlePlugin","drawPlugin","paintBase","deepExtend","isSsr","getStyleFromHsl","getStyleFromRgb","rangeColorToHsl","rangeColorToRgb","generatedAttribute","setTransformValue","factor","newFactor","key","_a","newValue","undefined","Canvas","container","size","height","width","_context","_generated","_preDrawUpdaters","_postDrawUpdaters","_resizePlugins","_colorPlugins","_mutationObserver","MutationObserver","records","record","type","attributeName","_repairStyle","actualOptions","fullScreen","enable","options","trail","particles","move","backgroundMask","paint","length","_trailFillColor","_paintBase","draw","ctx","_b","disconnect","element","remove","_resetOriginalStyle","cb","particle","delta","spawning","destroyed","radius","getRadius","pfColor","getFillColor","psColor","getStrokeColor","_getPluginParticleColors","fColor","sColor","_c","_d","_e","zIndexOptions","zIndex","zOpacityFactor","zIndexFactor","opacityRate","opacity","bubble","value","strokeOpacity","stroke","zOpacity","zStrokeOpacity","transform","colorStyles","fill","_applyPreDrawUpdaters","context","composite","sizeRate","shadow","_applyPostDrawUpdaters","plugin","resize","_initStyle","_initCover","_initTrail","initBackground","observe","attributes","initUpdaters","initPlugins","background","elementStyle","style","color","backgroundColor","backgroundImage","image","backgroundPosition","position","backgroundRepeat","repeat","backgroundSize","plugins","push","particleFillColor","particleStrokeColor","updaters","updater","afterDraw","getColorStyles","getTransformValues","beforeDraw","canvas","dataset","ariaHidden","_originalStyle","offsetHeight","offsetWidth","getContext","retina","init","cover","_coverColorStyle","pxRatio","pixelRatio","newSize","oldSize","Object","assign","started","resizeFactor","needsRefresh","updateActualOptions","setDensity","_applyResizePlugins","refresh","call","updaterTransform","coverRgb","coverColor","r","g","b","a","_fullScreen","_setFullScreenStyle","setProperty","fillColor","baseColor","originalStyle","top","left","priority","toString"],"sources":["D:/Projects/my-Portfolio/node_modules/tsparticles-engine/esm/Core/Canvas.js"],"sourcesContent":["import { clear, drawParticle, drawParticlePlugin, drawPlugin, paintBase } from \"../Utils/CanvasUtils\";\nimport { deepExtend, isSsr } from \"../Utils/Utils\";\nimport { getStyleFromHsl, getStyleFromRgb, rangeColorToHsl, rangeColorToRgb } from \"../Utils/ColorUtils\";\nimport { generatedAttribute } from \"./Utils/Constants\";\nfunction setTransformValue(factor, newFactor, key) {\n    var _a;\n    const newValue = newFactor[key];\n    if (newValue !== undefined) {\n        factor[key] = ((_a = factor[key]) !== null && _a !== void 0 ? _a : 1) * newValue;\n    }\n}\nexport class Canvas {\n    constructor(container) {\n        this.container = container;\n        this.size = {\n            height: 0,\n            width: 0,\n        };\n        this._context = null;\n        this._generated = false;\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n        this._mutationObserver =\n            !isSsr() && typeof MutationObserver !== \"undefined\"\n                ? new MutationObserver((records) => {\n                    for (const record of records) {\n                        if (record.type === \"attributes\" && record.attributeName === \"style\") {\n                            this._repairStyle();\n                        }\n                    }\n                })\n                : undefined;\n    }\n    get _fullScreen() {\n        return this.container.actualOptions.fullScreen.enable;\n    }\n    clear() {\n        const options = this.container.actualOptions, trail = options.particles.move.trail;\n        if (options.backgroundMask.enable) {\n            this.paint();\n        }\n        else if (trail.enable && trail.length > 0 && this._trailFillColor) {\n            this._paintBase(getStyleFromRgb(this._trailFillColor, 1 / trail.length));\n        }\n        else {\n            this.draw((ctx) => {\n                clear(ctx, this.size);\n            });\n        }\n    }\n    destroy() {\n        var _a, _b;\n        (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        if (this._generated) {\n            (_b = this.element) === null || _b === void 0 ? void 0 : _b.remove();\n        }\n        else {\n            this._resetOriginalStyle();\n        }\n        this.draw((ctx) => {\n            clear(ctx, this.size);\n        });\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n    draw(cb) {\n        if (!this._context) {\n            return;\n        }\n        return cb(this._context);\n    }\n    drawParticle(particle, delta) {\n        var _a;\n        if (particle.spawning || particle.destroyed) {\n            return;\n        }\n        const radius = particle.getRadius();\n        if (radius <= 0) {\n            return;\n        }\n        const pfColor = particle.getFillColor(), psColor = (_a = particle.getStrokeColor()) !== null && _a !== void 0 ? _a : pfColor;\n        let [fColor, sColor] = this._getPluginParticleColors(particle);\n        if (!fColor) {\n            fColor = pfColor;\n        }\n        if (!sColor) {\n            sColor = psColor;\n        }\n        if (!fColor && !sColor) {\n            return;\n        }\n        this.draw((ctx) => {\n            var _a, _b, _c, _d, _e;\n            const options = this.container.actualOptions, zIndexOptions = particle.options.zIndex, zOpacityFactor = (1 - particle.zIndexFactor) ** zIndexOptions.opacityRate, opacity = (_c = (_a = particle.bubble.opacity) !== null && _a !== void 0 ? _a : (_b = particle.opacity) === null || _b === void 0 ? void 0 : _b.value) !== null && _c !== void 0 ? _c : 1, strokeOpacity = (_e = (_d = particle.stroke) === null || _d === void 0 ? void 0 : _d.opacity) !== null && _e !== void 0 ? _e : opacity, zOpacity = opacity * zOpacityFactor, zStrokeOpacity = strokeOpacity * zOpacityFactor, transform = {}, colorStyles = {\n                fill: fColor ? getStyleFromHsl(fColor, zOpacity) : undefined,\n            };\n            colorStyles.stroke = sColor ? getStyleFromHsl(sColor, zStrokeOpacity) : colorStyles.fill;\n            this._applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform);\n            drawParticle({\n                container: this.container,\n                context: ctx,\n                particle,\n                delta,\n                colorStyles,\n                backgroundMask: options.backgroundMask.enable,\n                composite: options.backgroundMask.composite,\n                radius: radius * (1 - particle.zIndexFactor) ** zIndexOptions.sizeRate,\n                opacity: zOpacity,\n                shadow: particle.options.shadow,\n                transform,\n            });\n            this._applyPostDrawUpdaters(particle);\n        });\n    }\n    drawParticlePlugin(plugin, particle, delta) {\n        this.draw((ctx) => {\n            drawParticlePlugin(ctx, plugin, particle, delta);\n        });\n    }\n    drawPlugin(plugin, delta) {\n        this.draw((ctx) => {\n            drawPlugin(ctx, plugin, delta);\n        });\n    }\n    init() {\n        var _a;\n        this.resize();\n        this._initStyle();\n        this._initCover();\n        this._initTrail();\n        this.initBackground();\n        if (this.element) {\n            (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.observe(this.element, { attributes: true });\n        }\n        this.initUpdaters();\n        this.initPlugins();\n        this.paint();\n    }\n    initBackground() {\n        const options = this.container.actualOptions, background = options.background, element = this.element, elementStyle = element === null || element === void 0 ? void 0 : element.style;\n        if (!elementStyle) {\n            return;\n        }\n        if (background.color) {\n            const color = rangeColorToRgb(background.color);\n            elementStyle.backgroundColor = color ? getStyleFromRgb(color, background.opacity) : \"\";\n        }\n        else {\n            elementStyle.backgroundColor = \"\";\n        }\n        elementStyle.backgroundImage = background.image || \"\";\n        elementStyle.backgroundPosition = background.position || \"\";\n        elementStyle.backgroundRepeat = background.repeat || \"\";\n        elementStyle.backgroundSize = background.size || \"\";\n    }\n    initPlugins() {\n        this._resizePlugins = [];\n        for (const [, plugin] of this.container.plugins) {\n            if (plugin.resize) {\n                this._resizePlugins.push(plugin);\n            }\n            if (plugin.particleFillColor || plugin.particleStrokeColor) {\n                this._colorPlugins.push(plugin);\n            }\n        }\n    }\n    initUpdaters() {\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        for (const updater of this.container.particles.updaters) {\n            if (updater.afterDraw) {\n                this._postDrawUpdaters.push(updater);\n            }\n            if (updater.getColorStyles || updater.getTransformValues || updater.beforeDraw) {\n                this._preDrawUpdaters.push(updater);\n            }\n        }\n    }\n    loadCanvas(canvas) {\n        var _a, _b;\n        if (this._generated) {\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\n        }\n        this._generated =\n            canvas.dataset && generatedAttribute in canvas.dataset\n                ? canvas.dataset[generatedAttribute] === \"true\"\n                : this._generated;\n        this.element = canvas;\n        this.element.ariaHidden = \"true\";\n        this._originalStyle = deepExtend({}, this.element.style);\n        this.size.height = canvas.offsetHeight;\n        this.size.width = canvas.offsetWidth;\n        this._context = this.element.getContext(\"2d\");\n        (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.observe(this.element, { attributes: true });\n        this.container.retina.init();\n        this.initBackground();\n    }\n    paint() {\n        const options = this.container.actualOptions;\n        this.draw((ctx) => {\n            if (options.backgroundMask.enable && options.backgroundMask.cover) {\n                clear(ctx, this.size);\n                this._paintBase(this._coverColorStyle);\n            }\n            else {\n                this._paintBase();\n            }\n        });\n    }\n    resize() {\n        if (!this.element) {\n            return;\n        }\n        const container = this.container, pxRatio = container.retina.pixelRatio, size = container.canvas.size, newSize = {\n            width: this.element.offsetWidth * pxRatio,\n            height: this.element.offsetHeight * pxRatio,\n        };\n        if (newSize.height === size.height &&\n            newSize.width === size.width &&\n            newSize.height === this.element.height &&\n            newSize.width === this.element.width) {\n            return;\n        }\n        const oldSize = Object.assign({}, size);\n        this.element.width = size.width = this.element.offsetWidth * pxRatio;\n        this.element.height = size.height = this.element.offsetHeight * pxRatio;\n        if (this.container.started) {\n            this.resizeFactor = {\n                width: size.width / oldSize.width,\n                height: size.height / oldSize.height,\n            };\n        }\n    }\n    async windowResize() {\n        if (!this.element) {\n            return;\n        }\n        this.resize();\n        const container = this.container, needsRefresh = container.updateActualOptions();\n        container.particles.setDensity();\n        this._applyResizePlugins();\n        if (needsRefresh) {\n            await container.refresh();\n        }\n    }\n    _applyPostDrawUpdaters(particle) {\n        var _a;\n        for (const updater of this._postDrawUpdaters) {\n            (_a = updater.afterDraw) === null || _a === void 0 ? void 0 : _a.call(updater, particle);\n        }\n    }\n    _applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform) {\n        var _a;\n        for (const updater of this._preDrawUpdaters) {\n            if (updater.getColorStyles) {\n                const { fill, stroke } = updater.getColorStyles(particle, ctx, radius, zOpacity);\n                if (fill) {\n                    colorStyles.fill = fill;\n                }\n                if (stroke) {\n                    colorStyles.stroke = stroke;\n                }\n            }\n            if (updater.getTransformValues) {\n                const updaterTransform = updater.getTransformValues(particle);\n                for (const key in updaterTransform) {\n                    setTransformValue(transform, updaterTransform, key);\n                }\n            }\n            (_a = updater.beforeDraw) === null || _a === void 0 ? void 0 : _a.call(updater, particle);\n        }\n    }\n    _applyResizePlugins() {\n        for (const plugin of this._resizePlugins) {\n            if (plugin.resize) {\n                plugin.resize();\n            }\n        }\n    }\n    _getPluginParticleColors(particle) {\n        let fColor, sColor;\n        for (const plugin of this._colorPlugins) {\n            if (!fColor && plugin.particleFillColor) {\n                fColor = rangeColorToHsl(plugin.particleFillColor(particle));\n            }\n            if (!sColor && plugin.particleStrokeColor) {\n                sColor = rangeColorToHsl(plugin.particleStrokeColor(particle));\n            }\n            if (fColor && sColor) {\n                break;\n            }\n        }\n        return [fColor, sColor];\n    }\n    _initCover() {\n        const options = this.container.actualOptions, cover = options.backgroundMask.cover, color = cover.color, coverRgb = rangeColorToRgb(color);\n        if (coverRgb) {\n            const coverColor = {\n                r: coverRgb.r,\n                g: coverRgb.g,\n                b: coverRgb.b,\n                a: cover.opacity,\n            };\n            this._coverColorStyle = getStyleFromRgb(coverColor, coverColor.a);\n        }\n    }\n    _initStyle() {\n        const element = this.element, options = this.container.actualOptions;\n        if (!element) {\n            return;\n        }\n        if (this._fullScreen) {\n            this._originalStyle = deepExtend({}, element.style);\n            this._setFullScreenStyle();\n        }\n        else {\n            this._resetOriginalStyle();\n        }\n        for (const key in options.style) {\n            if (!key || !options.style) {\n                continue;\n            }\n            const value = options.style[key];\n            if (!value) {\n                continue;\n            }\n            element.style.setProperty(key, value, \"important\");\n        }\n    }\n    _initTrail() {\n        const options = this.container.actualOptions, trail = options.particles.move.trail, fillColor = rangeColorToRgb(trail.fillColor);\n        if (fillColor) {\n            const trail = options.particles.move.trail;\n            this._trailFillColor = Object.assign(Object.assign({}, fillColor), { a: 1 / trail.length });\n        }\n    }\n    _paintBase(baseColor) {\n        this.draw((ctx) => {\n            paintBase(ctx, this.size, baseColor);\n        });\n    }\n    _repairStyle() {\n        var _a, _b;\n        const element = this.element;\n        if (!element) {\n            return;\n        }\n        (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this._initStyle();\n        this.initBackground();\n        (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.observe(element, { attributes: true });\n    }\n    _resetOriginalStyle() {\n        const element = this.element, originalStyle = this._originalStyle;\n        if (!(element && originalStyle)) {\n            return;\n        }\n        element.style.position = originalStyle.position;\n        element.style.zIndex = originalStyle.zIndex;\n        element.style.top = originalStyle.top;\n        element.style.left = originalStyle.left;\n        element.style.width = originalStyle.width;\n        element.style.height = originalStyle.height;\n    }\n    _setFullScreenStyle() {\n        const element = this.element;\n        if (!element) {\n            return;\n        }\n        const priority = \"important\";\n        element.style.setProperty(\"position\", \"fixed\", priority);\n        element.style.setProperty(\"z-index\", this.container.actualOptions.fullScreen.zIndex.toString(10), priority);\n        element.style.setProperty(\"top\", \"0\", priority);\n        element.style.setProperty(\"left\", \"0\", priority);\n        element.style.setProperty(\"width\", \"100%\", priority);\n        element.style.setProperty(\"height\", \"100%\", priority);\n    }\n}\n"],"mappings":";;;;;;AAAA,SAASA,KAAK,IAALA,MAAT,EAAgBC,YAAY,IAAZA,aAAhB,EAA8BC,kBAAkB,IAAlBA,mBAA9B,EAAkDC,UAAU,IAAVA,WAAlD,EAA8DC,SAA9D,QAA+E,sBAA/E;AACA,SAASC,UAAT,EAAqBC,KAArB,QAAkC,gBAAlC;AACA,SAASC,eAAT,EAA0BC,eAA1B,EAA2CC,eAA3C,EAA4DC,eAA5D,QAAmF,qBAAnF;AACA,SAASC,kBAAT,QAAmC,mBAAnC;;AACA,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,SAAnC,EAA8CC,GAA9C,EAAmD;EAC/C,IAAIC,EAAJ;;EACA,IAAMC,QAAQ,GAAGH,SAAS,CAACC,GAAD,CAA1B;;EACA,IAAIE,QAAQ,KAAKC,SAAjB,EAA4B;IACxBL,MAAM,CAACE,GAAD,CAAN,GAAc,CAAC,CAACC,EAAE,GAAGH,MAAM,CAACE,GAAD,CAAZ,MAAuB,IAAvB,IAA+BC,EAAE,KAAK,KAAK,CAA3C,GAA+CA,EAA/C,GAAoD,CAArD,IAA0DC,QAAxE;EACH;AACJ;;AACD,WAAaE,MAAb;EACI,gBAAYC,SAAZ,EAAuB;IAAA;;IAAA;;IACnB,KAAKA,SAAL,GAAiBA,SAAjB;IACA,KAAKC,IAAL,GAAY;MACRC,MAAM,EAAE,CADA;MAERC,KAAK,EAAE;IAFC,CAAZ;IAIA,KAAKC,QAAL,GAAgB,IAAhB;IACA,KAAKC,UAAL,GAAkB,KAAlB;IACA,KAAKC,gBAAL,GAAwB,EAAxB;IACA,KAAKC,iBAAL,GAAyB,EAAzB;IACA,KAAKC,cAAL,GAAsB,EAAtB;IACA,KAAKC,aAAL,GAAqB,EAArB;IACA,KAAKC,iBAAL,GACI,CAACxB,KAAK,EAAN,IAAY,OAAOyB,gBAAP,KAA4B,WAAxC,GACM,IAAIA,gBAAJ,CAAqB,UAACC,OAAD,EAAa;MAAA,2CACXA,OADW;MAAA;;MAAA;QAChC,oDAA8B;UAAA,IAAnBC,MAAmB;;UAC1B,IAAIA,MAAM,CAACC,IAAP,KAAgB,YAAhB,IAAgCD,MAAM,CAACE,aAAP,KAAyB,OAA7D,EAAsE;YAClE,KAAI,CAACC,YAAL;UACH;QACJ;MAL+B;QAAA;MAAA;QAAA;MAAA;IAMnC,CANC,CADN,GAQMlB,SATV;EAUH;;EAvBL;IAAA;IAAA,KAwBI,eAAkB;MACd,OAAO,KAAKE,SAAL,CAAeiB,aAAf,CAA6BC,UAA7B,CAAwCC,MAA/C;IACH;EA1BL;IAAA;IAAA,OA2BI,iBAAQ;MAAA;;MACJ,IAAMC,OAAO,GAAG,KAAKpB,SAAL,CAAeiB,aAA/B;MAAA,IAA8CI,KAAK,GAAGD,OAAO,CAACE,SAAR,CAAkBC,IAAlB,CAAuBF,KAA7E;;MACA,IAAID,OAAO,CAACI,cAAR,CAAuBL,MAA3B,EAAmC;QAC/B,KAAKM,KAAL;MACH,CAFD,MAGK,IAAIJ,KAAK,CAACF,MAAN,IAAgBE,KAAK,CAACK,MAAN,GAAe,CAA/B,IAAoC,KAAKC,eAA7C,EAA8D;QAC/D,KAAKC,UAAL,CAAgBxC,eAAe,CAAC,KAAKuC,eAAN,EAAuB,IAAIN,KAAK,CAACK,MAAjC,CAA/B;MACH,CAFI,MAGA;QACD,KAAKG,IAAL,CAAU,UAACC,GAAD,EAAS;UACflD,MAAK,CAACkD,GAAD,EAAM,MAAI,CAAC7B,IAAX,CAAL;QACH,CAFD;MAGH;IACJ;EAxCL;IAAA;IAAA,OAyCI,mBAAU;MAAA;;MACN,IAAIL,EAAJ,EAAQmC,EAAR;;MACA,CAACnC,EAAE,GAAG,KAAKc,iBAAX,MAAkC,IAAlC,IAA0Cd,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACoC,UAAH,EAAnE;;MACA,IAAI,KAAK3B,UAAT,EAAqB;QACjB,CAAC0B,EAAE,GAAG,KAAKE,OAAX,MAAwB,IAAxB,IAAgCF,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAACG,MAAH,EAAzD;MACH,CAFD,MAGK;QACD,KAAKC,mBAAL;MACH;;MACD,KAAKN,IAAL,CAAU,UAACC,GAAD,EAAS;QACflD,MAAK,CAACkD,GAAD,EAAM,MAAI,CAAC7B,IAAX,CAAL;MACH,CAFD;MAGA,KAAKK,gBAAL,GAAwB,EAAxB;MACA,KAAKC,iBAAL,GAAyB,EAAzB;MACA,KAAKC,cAAL,GAAsB,EAAtB;MACA,KAAKC,aAAL,GAAqB,EAArB;IACH;EAzDL;IAAA;IAAA,OA0DI,cAAK2B,EAAL,EAAS;MACL,IAAI,CAAC,KAAKhC,QAAV,EAAoB;QAChB;MACH;;MACD,OAAOgC,EAAE,CAAC,KAAKhC,QAAN,CAAT;IACH;EA/DL;IAAA;IAAA,OAgEI,sBAAaiC,QAAb,EAAuBC,KAAvB,EAA8B;MAAA;;MAC1B,IAAI1C,EAAJ;;MACA,IAAIyC,QAAQ,CAACE,QAAT,IAAqBF,QAAQ,CAACG,SAAlC,EAA6C;QACzC;MACH;;MACD,IAAMC,MAAM,GAAGJ,QAAQ,CAACK,SAAT,EAAf;;MACA,IAAID,MAAM,IAAI,CAAd,EAAiB;QACb;MACH;;MACD,IAAME,OAAO,GAAGN,QAAQ,CAACO,YAAT,EAAhB;MAAA,IAAyCC,OAAO,GAAG,CAACjD,EAAE,GAAGyC,QAAQ,CAACS,cAAT,EAAN,MAAqC,IAArC,IAA6ClD,EAAE,KAAK,KAAK,CAAzD,GAA6DA,EAA7D,GAAkE+C,OAArH;;MACA,4BAAuB,KAAKI,wBAAL,CAA8BV,QAA9B,CAAvB;MAAA;MAAA,IAAKW,MAAL;MAAA,IAAaC,MAAb;;MACA,IAAI,CAACD,MAAL,EAAa;QACTA,MAAM,GAAGL,OAAT;MACH;;MACD,IAAI,CAACM,MAAL,EAAa;QACTA,MAAM,GAAGJ,OAAT;MACH;;MACD,IAAI,CAACG,MAAD,IAAW,CAACC,MAAhB,EAAwB;QACpB;MACH;;MACD,KAAKpB,IAAL,CAAU,UAACC,GAAD,EAAS;QACf,IAAIlC,EAAJ,EAAQmC,EAAR,EAAYmB,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB;;QACA,IAAMhC,OAAO,GAAG,MAAI,CAACpB,SAAL,CAAeiB,aAA/B;QAAA,IAA8CoC,aAAa,GAAGhB,QAAQ,CAACjB,OAAT,CAAiBkC,MAA/E;QAAA,IAAuFC,cAAc,YAAI,IAAIlB,QAAQ,CAACmB,YAAjB,EAAkCH,aAAa,CAACI,WAAhD,CAArG;QAAA,IAAkKC,OAAO,GAAG,CAACR,EAAE,GAAG,CAACtD,EAAE,GAAGyC,QAAQ,CAACsB,MAAT,CAAgBD,OAAtB,MAAmC,IAAnC,IAA2C9D,EAAE,KAAK,KAAK,CAAvD,GAA2DA,EAA3D,GAAgE,CAACmC,EAAE,GAAGM,QAAQ,CAACqB,OAAf,MAA4B,IAA5B,IAAoC3B,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAAC6B,KAAtI,MAAiJ,IAAjJ,IAAyJV,EAAE,KAAK,KAAK,CAArK,GAAyKA,EAAzK,GAA8K,CAA1V;QAAA,IAA6VW,aAAa,GAAG,CAACT,EAAE,GAAG,CAACD,EAAE,GAAGd,QAAQ,CAACyB,MAAf,MAA2B,IAA3B,IAAmCX,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACO,OAArE,MAAkF,IAAlF,IAA0FN,EAAE,KAAK,KAAK,CAAtG,GAA0GA,EAA1G,GAA+GM,OAA5d;QAAA,IAAqeK,QAAQ,GAAGL,OAAO,GAAGH,cAA1f;QAAA,IAA0gBS,cAAc,GAAGH,aAAa,GAAGN,cAA3iB;QAAA,IAA2jBU,SAAS,GAAG,EAAvkB;QAAA,IAA2kBC,WAAW,GAAG;UACrlBC,IAAI,EAAEnB,MAAM,GAAG7D,eAAe,CAAC6D,MAAD,EAASe,QAAT,CAAlB,GAAuCjE;QADkiB,CAAzlB;QAGAoE,WAAW,CAACJ,MAAZ,GAAqBb,MAAM,GAAG9D,eAAe,CAAC8D,MAAD,EAASe,cAAT,CAAlB,GAA6CE,WAAW,CAACC,IAApF;;QACA,MAAI,CAACC,qBAAL,CAA2BtC,GAA3B,EAAgCO,QAAhC,EAA0CI,MAA1C,EAAkDsB,QAAlD,EAA4DG,WAA5D,EAAyED,SAAzE;;QACApF,aAAY,CAAC;UACTmB,SAAS,EAAE,MAAI,CAACA,SADP;UAETqE,OAAO,EAAEvC,GAFA;UAGTO,QAAQ,EAARA,QAHS;UAITC,KAAK,EAALA,KAJS;UAKT4B,WAAW,EAAXA,WALS;UAMT1C,cAAc,EAAEJ,OAAO,CAACI,cAAR,CAAuBL,MAN9B;UAOTmD,SAAS,EAAElD,OAAO,CAACI,cAAR,CAAuB8C,SAPzB;UAQT7B,MAAM,EAAEA,MAAM,YAAI,IAAIJ,QAAQ,CAACmB,YAAjB,EAAkCH,aAAa,CAACkB,QAAhD,CARL;UASTb,OAAO,EAAEK,QATA;UAUTS,MAAM,EAAEnC,QAAQ,CAACjB,OAAT,CAAiBoD,MAVhB;UAWTP,SAAS,EAATA;QAXS,CAAD,CAAZ;;QAaA,MAAI,CAACQ,sBAAL,CAA4BpC,QAA5B;MACH,CArBD;IAsBH;EA1GL;IAAA;IAAA,OA2GI,4BAAmBqC,MAAnB,EAA2BrC,QAA3B,EAAqCC,KAArC,EAA4C;MACxC,KAAKT,IAAL,CAAU,UAACC,GAAD,EAAS;QACfhD,mBAAkB,CAACgD,GAAD,EAAM4C,MAAN,EAAcrC,QAAd,EAAwBC,KAAxB,CAAlB;MACH,CAFD;IAGH;EA/GL;IAAA;IAAA,OAgHI,oBAAWoC,MAAX,EAAmBpC,KAAnB,EAA0B;MACtB,KAAKT,IAAL,CAAU,UAACC,GAAD,EAAS;QACf/C,WAAU,CAAC+C,GAAD,EAAM4C,MAAN,EAAcpC,KAAd,CAAV;MACH,CAFD;IAGH;EApHL;IAAA;IAAA,OAqHI,gBAAO;MACH,IAAI1C,EAAJ;;MACA,KAAK+E,MAAL;;MACA,KAAKC,UAAL;;MACA,KAAKC,UAAL;;MACA,KAAKC,UAAL;;MACA,KAAKC,cAAL;;MACA,IAAI,KAAK9C,OAAT,EAAkB;QACd,CAACrC,EAAE,GAAG,KAAKc,iBAAX,MAAkC,IAAlC,IAA0Cd,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACoF,OAAH,CAAW,KAAK/C,OAAhB,EAAyB;UAAEgD,UAAU,EAAE;QAAd,CAAzB,CAAnE;MACH;;MACD,KAAKC,YAAL;MACA,KAAKC,WAAL;MACA,KAAK1D,KAAL;IACH;EAlIL;IAAA;IAAA,OAmII,0BAAiB;MACb,IAAML,OAAO,GAAG,KAAKpB,SAAL,CAAeiB,aAA/B;MAAA,IAA8CmE,UAAU,GAAGhE,OAAO,CAACgE,UAAnE;MAAA,IAA+EnD,OAAO,GAAG,KAAKA,OAA9F;MAAA,IAAuGoD,YAAY,GAAGpD,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACqD,KAAhL;;MACA,IAAI,CAACD,YAAL,EAAmB;QACf;MACH;;MACD,IAAID,UAAU,CAACG,KAAf,EAAsB;QAClB,IAAMA,KAAK,GAAGjG,eAAe,CAAC8F,UAAU,CAACG,KAAZ,CAA7B;QACAF,YAAY,CAACG,eAAb,GAA+BD,KAAK,GAAGnG,eAAe,CAACmG,KAAD,EAAQH,UAAU,CAAC1B,OAAnB,CAAlB,GAAgD,EAApF;MACH,CAHD,MAIK;QACD2B,YAAY,CAACG,eAAb,GAA+B,EAA/B;MACH;;MACDH,YAAY,CAACI,eAAb,GAA+BL,UAAU,CAACM,KAAX,IAAoB,EAAnD;MACAL,YAAY,CAACM,kBAAb,GAAkCP,UAAU,CAACQ,QAAX,IAAuB,EAAzD;MACAP,YAAY,CAACQ,gBAAb,GAAgCT,UAAU,CAACU,MAAX,IAAqB,EAArD;MACAT,YAAY,CAACU,cAAb,GAA8BX,UAAU,CAACnF,IAAX,IAAmB,EAAjD;IACH;EAnJL;IAAA;IAAA,OAoJI,uBAAc;MACV,KAAKO,cAAL,GAAsB,EAAtB;;MADU,4CAEe,KAAKR,SAAL,CAAegG,OAF9B;MAAA;;MAAA;QAEV,uDAAiD;UAAA;UAAA,IAAnCtB,MAAmC;;UAC7C,IAAIA,MAAM,CAACC,MAAX,EAAmB;YACf,KAAKnE,cAAL,CAAoByF,IAApB,CAAyBvB,MAAzB;UACH;;UACD,IAAIA,MAAM,CAACwB,iBAAP,IAA4BxB,MAAM,CAACyB,mBAAvC,EAA4D;YACxD,KAAK1F,aAAL,CAAmBwF,IAAnB,CAAwBvB,MAAxB;UACH;QACJ;MATS;QAAA;MAAA;QAAA;MAAA;IAUb;EA9JL;IAAA;IAAA,OA+JI,wBAAe;MACX,KAAKpE,gBAAL,GAAwB,EAAxB;MACA,KAAKC,iBAAL,GAAyB,EAAzB;;MAFW,4CAGW,KAAKP,SAAL,CAAesB,SAAf,CAAyB8E,QAHpC;MAAA;;MAAA;QAGX,uDAAyD;UAAA,IAA9CC,OAA8C;;UACrD,IAAIA,OAAO,CAACC,SAAZ,EAAuB;YACnB,KAAK/F,iBAAL,CAAuB0F,IAAvB,CAA4BI,OAA5B;UACH;;UACD,IAAIA,OAAO,CAACE,cAAR,IAA0BF,OAAO,CAACG,kBAAlC,IAAwDH,OAAO,CAACI,UAApE,EAAgF;YAC5E,KAAKnG,gBAAL,CAAsB2F,IAAtB,CAA2BI,OAA3B;UACH;QACJ;MAVU;QAAA;MAAA;QAAA;MAAA;IAWd;EA1KL;IAAA;IAAA,OA2KI,oBAAWK,MAAX,EAAmB;MACf,IAAI9G,EAAJ,EAAQmC,EAAR;;MACA,IAAI,KAAK1B,UAAT,EAAqB;QACjB,CAACT,EAAE,GAAG,KAAKqC,OAAX,MAAwB,IAAxB,IAAgCrC,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAACsC,MAAH,EAAzD;MACH;;MACD,KAAK7B,UAAL,GACIqG,MAAM,CAACC,OAAP,IAAkBpH,kBAAkB,IAAImH,MAAM,CAACC,OAA/C,GACMD,MAAM,CAACC,OAAP,CAAepH,kBAAf,MAAuC,MAD7C,GAEM,KAAKc,UAHf;MAIA,KAAK4B,OAAL,GAAeyE,MAAf;MACA,KAAKzE,OAAL,CAAa2E,UAAb,GAA0B,MAA1B;MACA,KAAKC,cAAL,GAAsB5H,UAAU,CAAC,EAAD,EAAK,KAAKgD,OAAL,CAAaqD,KAAlB,CAAhC;MACA,KAAKrF,IAAL,CAAUC,MAAV,GAAmBwG,MAAM,CAACI,YAA1B;MACA,KAAK7G,IAAL,CAAUE,KAAV,GAAkBuG,MAAM,CAACK,WAAzB;MACA,KAAK3G,QAAL,GAAgB,KAAK6B,OAAL,CAAa+E,UAAb,CAAwB,IAAxB,CAAhB;MACA,CAACjF,EAAE,GAAG,KAAKrB,iBAAX,MAAkC,IAAlC,IAA0CqB,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACiD,OAAH,CAAW,KAAK/C,OAAhB,EAAyB;QAAEgD,UAAU,EAAE;MAAd,CAAzB,CAAnE;MACA,KAAKjF,SAAL,CAAeiH,MAAf,CAAsBC,IAAtB;MACA,KAAKnC,cAAL;IACH;EA7LL;IAAA;IAAA,OA8LI,iBAAQ;MAAA;;MACJ,IAAM3D,OAAO,GAAG,KAAKpB,SAAL,CAAeiB,aAA/B;MACA,KAAKY,IAAL,CAAU,UAACC,GAAD,EAAS;QACf,IAAIV,OAAO,CAACI,cAAR,CAAuBL,MAAvB,IAAiCC,OAAO,CAACI,cAAR,CAAuB2F,KAA5D,EAAmE;UAC/DvI,MAAK,CAACkD,GAAD,EAAM,MAAI,CAAC7B,IAAX,CAAL;;UACA,MAAI,CAAC2B,UAAL,CAAgB,MAAI,CAACwF,gBAArB;QACH,CAHD,MAIK;UACD,MAAI,CAACxF,UAAL;QACH;MACJ,CARD;IASH;EAzML;IAAA;IAAA,OA0MI,kBAAS;MACL,IAAI,CAAC,KAAKK,OAAV,EAAmB;QACf;MACH;;MACD,IAAMjC,SAAS,GAAG,KAAKA,SAAvB;MAAA,IAAkCqH,OAAO,GAAGrH,SAAS,CAACiH,MAAV,CAAiBK,UAA7D;MAAA,IAAyErH,IAAI,GAAGD,SAAS,CAAC0G,MAAV,CAAiBzG,IAAjG;MAAA,IAAuGsH,OAAO,GAAG;QAC7GpH,KAAK,EAAE,KAAK8B,OAAL,CAAa8E,WAAb,GAA2BM,OAD2E;QAE7GnH,MAAM,EAAE,KAAK+B,OAAL,CAAa6E,YAAb,GAA4BO;MAFyE,CAAjH;;MAIA,IAAIE,OAAO,CAACrH,MAAR,KAAmBD,IAAI,CAACC,MAAxB,IACAqH,OAAO,CAACpH,KAAR,KAAkBF,IAAI,CAACE,KADvB,IAEAoH,OAAO,CAACrH,MAAR,KAAmB,KAAK+B,OAAL,CAAa/B,MAFhC,IAGAqH,OAAO,CAACpH,KAAR,KAAkB,KAAK8B,OAAL,CAAa9B,KAHnC,EAG0C;QACtC;MACH;;MACD,IAAMqH,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBzH,IAAlB,CAAhB;MACA,KAAKgC,OAAL,CAAa9B,KAAb,GAAqBF,IAAI,CAACE,KAAL,GAAa,KAAK8B,OAAL,CAAa8E,WAAb,GAA2BM,OAA7D;MACA,KAAKpF,OAAL,CAAa/B,MAAb,GAAsBD,IAAI,CAACC,MAAL,GAAc,KAAK+B,OAAL,CAAa6E,YAAb,GAA4BO,OAAhE;;MACA,IAAI,KAAKrH,SAAL,CAAe2H,OAAnB,EAA4B;QACxB,KAAKC,YAAL,GAAoB;UAChBzH,KAAK,EAAEF,IAAI,CAACE,KAAL,GAAaqH,OAAO,CAACrH,KADZ;UAEhBD,MAAM,EAAED,IAAI,CAACC,MAAL,GAAcsH,OAAO,CAACtH;QAFd,CAApB;MAIH;IACJ;EAjOL;IAAA;IAAA;MAAA,+EAkOI;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACS,KAAK+B,OADd;kBAAA;kBAAA;gBAAA;;gBAAA;;cAAA;gBAII,KAAK0C,MAAL;gBACM3E,SALV,GAKsB,KAAKA,SAL3B,EAKsC6H,YALtC,GAKqD7H,SAAS,CAAC8H,mBAAV,EALrD;gBAMI9H,SAAS,CAACsB,SAAV,CAAoByG,UAApB;;gBACA,KAAKC,mBAAL;;gBAPJ,KAQQH,YARR;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OASc7H,SAAS,CAACiI,OAAV,EATd;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAlOJ;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA,OA8OI,gCAAuB5F,QAAvB,EAAiC;MAC7B,IAAIzC,EAAJ;;MAD6B,4CAEP,KAAKW,iBAFE;MAAA;;MAAA;QAE7B,uDAA8C;UAAA,IAAnC8F,OAAmC;UAC1C,CAACzG,EAAE,GAAGyG,OAAO,CAACC,SAAd,MAA6B,IAA7B,IAAqC1G,EAAE,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,EAAE,CAACsI,IAAH,CAAQ7B,OAAR,EAAiBhE,QAAjB,CAA9D;QACH;MAJ4B;QAAA;MAAA;QAAA;MAAA;IAKhC;EAnPL;IAAA;IAAA,OAoPI,+BAAsBP,GAAtB,EAA2BO,QAA3B,EAAqCI,MAArC,EAA6CsB,QAA7C,EAAuDG,WAAvD,EAAoED,SAApE,EAA+E;MAC3E,IAAIrE,EAAJ;;MAD2E,4CAErD,KAAKU,gBAFgD;MAAA;;MAAA;QAE3E,uDAA6C;UAAA,IAAlC+F,OAAkC;;UACzC,IAAIA,OAAO,CAACE,cAAZ,EAA4B;YACxB,4BAAyBF,OAAO,CAACE,cAAR,CAAuBlE,QAAvB,EAAiCP,GAAjC,EAAsCW,MAAtC,EAA8CsB,QAA9C,CAAzB;YAAA,IAAQI,IAAR,yBAAQA,IAAR;YAAA,IAAcL,MAAd,yBAAcA,MAAd;;YACA,IAAIK,IAAJ,EAAU;cACND,WAAW,CAACC,IAAZ,GAAmBA,IAAnB;YACH;;YACD,IAAIL,MAAJ,EAAY;cACRI,WAAW,CAACJ,MAAZ,GAAqBA,MAArB;YACH;UACJ;;UACD,IAAIuC,OAAO,CAACG,kBAAZ,EAAgC;YAC5B,IAAM2B,gBAAgB,GAAG9B,OAAO,CAACG,kBAAR,CAA2BnE,QAA3B,CAAzB;;YACA,KAAK,IAAM1C,GAAX,IAAkBwI,gBAAlB,EAAoC;cAChC3I,iBAAiB,CAACyE,SAAD,EAAYkE,gBAAZ,EAA8BxI,GAA9B,CAAjB;YACH;UACJ;;UACD,CAACC,EAAE,GAAGyG,OAAO,CAACI,UAAd,MAA8B,IAA9B,IAAsC7G,EAAE,KAAK,KAAK,CAAlD,GAAsD,KAAK,CAA3D,GAA+DA,EAAE,CAACsI,IAAH,CAAQ7B,OAAR,EAAiBhE,QAAjB,CAA/D;QACH;MAnB0E;QAAA;MAAA;QAAA;MAAA;IAoB9E;EAxQL;IAAA;IAAA,OAyQI,+BAAsB;MAAA,4CACG,KAAK7B,cADR;MAAA;;MAAA;QAClB,uDAA0C;UAAA,IAA/BkE,MAA+B;;UACtC,IAAIA,MAAM,CAACC,MAAX,EAAmB;YACfD,MAAM,CAACC,MAAP;UACH;QACJ;MALiB;QAAA;MAAA;QAAA;MAAA;IAMrB;EA/QL;IAAA;IAAA,OAgRI,kCAAyBtC,QAAzB,EAAmC;MAC/B,IAAIW,MAAJ,EAAYC,MAAZ;;MAD+B,4CAEV,KAAKxC,aAFK;MAAA;;MAAA;QAE/B,uDAAyC;UAAA,IAA9BiE,MAA8B;;UACrC,IAAI,CAAC1B,MAAD,IAAW0B,MAAM,CAACwB,iBAAtB,EAAyC;YACrClD,MAAM,GAAG3D,eAAe,CAACqF,MAAM,CAACwB,iBAAP,CAAyB7D,QAAzB,CAAD,CAAxB;UACH;;UACD,IAAI,CAACY,MAAD,IAAWyB,MAAM,CAACyB,mBAAtB,EAA2C;YACvClD,MAAM,GAAG5D,eAAe,CAACqF,MAAM,CAACyB,mBAAP,CAA2B9D,QAA3B,CAAD,CAAxB;UACH;;UACD,IAAIW,MAAM,IAAIC,MAAd,EAAsB;YAClB;UACH;QACJ;MAZ8B;QAAA;MAAA;QAAA;MAAA;;MAa/B,OAAO,CAACD,MAAD,EAASC,MAAT,CAAP;IACH;EA9RL;IAAA;IAAA,OA+RI,sBAAa;MACT,IAAM7B,OAAO,GAAG,KAAKpB,SAAL,CAAeiB,aAA/B;MAAA,IAA8CkG,KAAK,GAAG/F,OAAO,CAACI,cAAR,CAAuB2F,KAA7E;MAAA,IAAoF5B,KAAK,GAAG4B,KAAK,CAAC5B,KAAlG;MAAA,IAAyG6C,QAAQ,GAAG9I,eAAe,CAACiG,KAAD,CAAnI;;MACA,IAAI6C,QAAJ,EAAc;QACV,IAAMC,UAAU,GAAG;UACfC,CAAC,EAAEF,QAAQ,CAACE,CADG;UAEfC,CAAC,EAAEH,QAAQ,CAACG,CAFG;UAGfC,CAAC,EAAEJ,QAAQ,CAACI,CAHG;UAIfC,CAAC,EAAEtB,KAAK,CAACzD;QAJM,CAAnB;QAMA,KAAK0D,gBAAL,GAAwBhI,eAAe,CAACiJ,UAAD,EAAaA,UAAU,CAACI,CAAxB,CAAvC;MACH;IACJ;EA1SL;IAAA;IAAA,OA2SI,sBAAa;MACT,IAAMxG,OAAO,GAAG,KAAKA,OAArB;MAAA,IAA8Bb,OAAO,GAAG,KAAKpB,SAAL,CAAeiB,aAAvD;;MACA,IAAI,CAACgB,OAAL,EAAc;QACV;MACH;;MACD,IAAI,KAAKyG,WAAT,EAAsB;QAClB,KAAK7B,cAAL,GAAsB5H,UAAU,CAAC,EAAD,EAAKgD,OAAO,CAACqD,KAAb,CAAhC;;QACA,KAAKqD,mBAAL;MACH,CAHD,MAIK;QACD,KAAKxG,mBAAL;MACH;;MACD,KAAK,IAAMxC,GAAX,IAAkByB,OAAO,CAACkE,KAA1B,EAAiC;QAC7B,IAAI,CAAC3F,GAAD,IAAQ,CAACyB,OAAO,CAACkE,KAArB,EAA4B;UACxB;QACH;;QACD,IAAM1B,KAAK,GAAGxC,OAAO,CAACkE,KAAR,CAAc3F,GAAd,CAAd;;QACA,IAAI,CAACiE,KAAL,EAAY;UACR;QACH;;QACD3B,OAAO,CAACqD,KAAR,CAAcsD,WAAd,CAA0BjJ,GAA1B,EAA+BiE,KAA/B,EAAsC,WAAtC;MACH;IACJ;EAjUL;IAAA;IAAA,OAkUI,sBAAa;MACT,IAAMxC,OAAO,GAAG,KAAKpB,SAAL,CAAeiB,aAA/B;MAAA,IAA8CI,KAAK,GAAGD,OAAO,CAACE,SAAR,CAAkBC,IAAlB,CAAuBF,KAA7E;MAAA,IAAoFwH,SAAS,GAAGvJ,eAAe,CAAC+B,KAAK,CAACwH,SAAP,CAA/G;;MACA,IAAIA,SAAJ,EAAe;QACX,IAAMxH,MAAK,GAAGD,OAAO,CAACE,SAAR,CAAkBC,IAAlB,CAAuBF,KAArC;QACA,KAAKM,eAAL,GAAuB8F,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBmB,SAAlB,CAAd,EAA4C;UAAEJ,CAAC,EAAE,IAAIpH,MAAK,CAACK;QAAf,CAA5C,CAAvB;MACH;IACJ;EAxUL;IAAA;IAAA,OAyUI,oBAAWoH,SAAX,EAAsB;MAAA;;MAClB,KAAKjH,IAAL,CAAU,UAACC,GAAD,EAAS;QACf9C,SAAS,CAAC8C,GAAD,EAAM,MAAI,CAAC7B,IAAX,EAAiB6I,SAAjB,CAAT;MACH,CAFD;IAGH;EA7UL;IAAA;IAAA,OA8UI,wBAAe;MACX,IAAIlJ,EAAJ,EAAQmC,EAAR;;MACA,IAAME,OAAO,GAAG,KAAKA,OAArB;;MACA,IAAI,CAACA,OAAL,EAAc;QACV;MACH;;MACD,CAACrC,EAAE,GAAG,KAAKc,iBAAX,MAAkC,IAAlC,IAA0Cd,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACoC,UAAH,EAAnE;;MACA,KAAK4C,UAAL;;MACA,KAAKG,cAAL;MACA,CAAChD,EAAE,GAAG,KAAKrB,iBAAX,MAAkC,IAAlC,IAA0CqB,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACiD,OAAH,CAAW/C,OAAX,EAAoB;QAAEgD,UAAU,EAAE;MAAd,CAApB,CAAnE;IACH;EAxVL;IAAA;IAAA,OAyVI,+BAAsB;MAClB,IAAMhD,OAAO,GAAG,KAAKA,OAArB;MAAA,IAA8B8G,aAAa,GAAG,KAAKlC,cAAnD;;MACA,IAAI,EAAE5E,OAAO,IAAI8G,aAAb,CAAJ,EAAiC;QAC7B;MACH;;MACD9G,OAAO,CAACqD,KAAR,CAAcM,QAAd,GAAyBmD,aAAa,CAACnD,QAAvC;MACA3D,OAAO,CAACqD,KAAR,CAAchC,MAAd,GAAuByF,aAAa,CAACzF,MAArC;MACArB,OAAO,CAACqD,KAAR,CAAc0D,GAAd,GAAoBD,aAAa,CAACC,GAAlC;MACA/G,OAAO,CAACqD,KAAR,CAAc2D,IAAd,GAAqBF,aAAa,CAACE,IAAnC;MACAhH,OAAO,CAACqD,KAAR,CAAcnF,KAAd,GAAsB4I,aAAa,CAAC5I,KAApC;MACA8B,OAAO,CAACqD,KAAR,CAAcpF,MAAd,GAAuB6I,aAAa,CAAC7I,MAArC;IACH;EApWL;IAAA;IAAA,OAqWI,+BAAsB;MAClB,IAAM+B,OAAO,GAAG,KAAKA,OAArB;;MACA,IAAI,CAACA,OAAL,EAAc;QACV;MACH;;MACD,IAAMiH,QAAQ,GAAG,WAAjB;MACAjH,OAAO,CAACqD,KAAR,CAAcsD,WAAd,CAA0B,UAA1B,EAAsC,OAAtC,EAA+CM,QAA/C;MACAjH,OAAO,CAACqD,KAAR,CAAcsD,WAAd,CAA0B,SAA1B,EAAqC,KAAK5I,SAAL,CAAeiB,aAAf,CAA6BC,UAA7B,CAAwCoC,MAAxC,CAA+C6F,QAA/C,CAAwD,EAAxD,CAArC,EAAkGD,QAAlG;MACAjH,OAAO,CAACqD,KAAR,CAAcsD,WAAd,CAA0B,KAA1B,EAAiC,GAAjC,EAAsCM,QAAtC;MACAjH,OAAO,CAACqD,KAAR,CAAcsD,WAAd,CAA0B,MAA1B,EAAkC,GAAlC,EAAuCM,QAAvC;MACAjH,OAAO,CAACqD,KAAR,CAAcsD,WAAd,CAA0B,OAA1B,EAAmC,MAAnC,EAA2CM,QAA3C;MACAjH,OAAO,CAACqD,KAAR,CAAcsD,WAAd,CAA0B,QAA1B,EAAoC,MAApC,EAA4CM,QAA5C;IACH;EAjXL;;EAAA;AAAA"},"metadata":{},"sourceType":"module"}